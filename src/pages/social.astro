---
// PAGE D : RÉALITÉ SOCIALE
// Bloc Logement : Situation actuelle (Sous-sol) et démarches HLM (Négâr Rezai Aria)
// Bloc Engagement : Bénévolat (Byblos, Bénévoles du 47)

import MainLayout from '../layouts/MainLayout.astro';

// Props pour le layout
const pageTitle = 'Réalité Sociale';
const showHero = true;
const heroTitle = 'Réalité Sociale';
const heroDescription = 'Logement, ressources et engagement social';
const breadcrumbs = [
  { label: 'Réalité Sociale' }
];

// Données logement
const housingSituation = {
  current: {
    type: 'Sous-sol aménagé',
    address: '[CONTENU À REMPLIR - ADRESSE]',
    surface: '[CONTENU À REMPLIR - SURFACE]',
    conditions: '[CONTENU À REMPLIR - CONDITIONS DE VIE]',
    accessibility: '[CONTENU À REMPLIR - ACCESSIBILITÉ]'
  },
  hlmApplication: {
    status: 'Dossier déposé',
    date: '10/01/2026',
    contact: 'Négâr Rezai Aria',
    agency: '[CONTENU À REMPLIR - ORGANISME HLM]',
    reference: '[CONTENU À REMPLIR - NUMÉRO DE DOSSIER]'
  }
};

// Données bénévolat
const volunteerActivities = [
  {
    organization: 'Byblos',
    role: 'Bénévole',
    period: '[CONTENU À REMPLIR - PÉRIODE]',
    description: '[CONTENU À REMPLIR - MISSIONS ET ACTIVITÉS]',
    skills: '[CONTENU À REMPLIR - COMPÉTENCES DÉVELOPPÉES]'
  },
  {
    organization: 'Bénévoles du 47',
    role: 'Bénévole',
    period: '[CONTENU À REMPLIR - PÉRIODE]',
    description: '[CONTENU À REMPLIR - MISSIONS ET ACTIVITÉS]',
    skills: '[CONTENU À REMPLIR - COMPÉTENCES DÉVELOPPÉES]'
  }
];

// Ressources financières
const financialResources = {
  aah: {
    amount: '[CONTENU À REMPLIR - MONTANT]',
    frequency: 'Mensuelle',
    startDate: '15/11/2024'
  },
  other: [
    { source: '[CONTENU À REMPLIR - SOURCE]', amount: '[CONTENU À REMPLIR - MONTANT]' },
    { source: '[CONTENU À REMPLIR - SOURCE]', amount: '[CONTENU À REMPLIR - MONTANT]' }
  ]
};
---

<MainLayout 
  title={pageTitle} 
  showHero={showHero}
  heroTitle={heroTitle}
  heroDescription={heroDescription}
  breadcrumbs={breadcrumbs}
>
  <!-- Section : Situation de Logement -->
  <section class="housing-section card">
    <h2>Situation de Logement</h2>
    
    <div class="housing-grid">
      <!-- Situation actuelle -->
      <div class="housing-card current-situation">
        <h3 class="card-title">Situation Actuelle</h3>
        <div class="housing-details">
          <div class="detail-item">
            <span class="detail-label">Type de logement :</span>
            <span class="detail-value">{housingSituation.current.type}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Adresse :</span>
            <span class="detail-value">{housingSituation.current.address}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Surface :</span>
            <span class="detail-value">{housingSituation.current.surface}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Conditions :</span>
            <span class="detail-value">{housingSituation.current.conditions}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Accessibilité :</span>
            <span class="detail-value">{housingSituation.current.accessibility}</span>
          </div>
        </div>
        
        <div class="housing-assessment">
          <h4>Évaluation des Besoins</h4>
          <p><em>[CONTENU À REMPLIR - ANALYSE DES BESOINS EN MATIÈRE DE LOGEMENT]</em></p>
        </div>
      </div>

      <!-- Démarches HLM -->
      <div class="housing-card hlm-process">
        <h3 class="card-title">Démarches HLM en cours</h3>
        <div class="hlm-details">
          <div class="detail-item">
            <span class="detail-label">Statut :</span>
            <span class="detail-value badge badge-warning">{housingSituation.hlmApplication.status}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Date de dépôt :</span>
            <span class="detail-value">{housingSituation.hlmApplication.date}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Contact référent :</span>
            <span class="detail-value">{housingSituation.hlmApplication.contact}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Organisme HLM :</span>
            <span class="detail-value">{housingSituation.hlmApplication.agency}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">N° de dossier :</span>
            <span class="detail-value">{housingSituation.hlmApplication.reference}</span>
          </div>
        </div>
        
        <div class="hlm-timeline">
          <h4>Étapes du processus</h4>
          <ol class="process-steps">
            <li class="step completed">
              <span class="step-number">1</span>
              <span class="step-label">Dépôt du dossier</span>
              <span class="step-date">{housingSituation.hlmApplication.date}</span>
            </li>
            <li class="step current">
              <span class="step-number">2</span>
              <span class="step-label">Instruction du dossier</span>
              <span class="step-date">En cours</span>
            </li>
            <li class="step pending">
              <span class="step-number">3</span>
              <span class="step-label">Commission d'attribution</span>
              <span class="step-date">À venir</span>
            </li>
            <li class="step pending">
              <span class="step-number">4</span>
              <span class="step-label">Proposition de logement</span>
              <span class="step-date">À venir</span>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </section>

  <!-- Section : Engagement Bénévolat -->
  <section class="volunteering-section card">
    <h2>Engagement Bénévolat</h2>
    
    <div class="volunteering-grid">
      {volunteerActivities.map((activity) => (
        <div class="volunteer-card">
          <div class="organization-header">
            <h3 class="organization-name">{activity.organization}</h3>
            <span class="volunteer-role badge badge-primary">{activity.role}</span>
          </div>
          
          <div class="volunteer-details">
            <div class="detail-item">
              <span class="detail-label">Période :</span>
              <span class="detail-value">{activity.period}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Description :</span>
              <span class="detail-value">{activity.description}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Compétences développées :</span>
              <span class="detail-value">{activity.skills}</span>
            </div>
          </div>
          
          <div class="volunteer-impact">
            <h4>Impact sur l'Insertion Sociale</h4>
            <p><em>[CONTENU À REMPLIR - BÉNÉFICES POUR L'INSERTION SOCIALE ET PROFESSIONNELLE]</em></p>
          </div>
        </div>
      ))}
    </div>
    
    <div class="volunteering-summary">
      <h3>Synthèse de l'Engagement</h3>
      <p><em>[CONTENU À REMPLIR - ÉVALUATION GLOBALE DE L'ENGAGEMENT BÉNÉVOLE ET PERSPECTIVES]</em></p>
    </div>
  </section>

  <!-- Section : Ressources et Autonomie -->
  <section class="resources-section card">
    <h2>Ressources et Autonomie</h2>
    
    <div class="resources-grid">
      <!-- Ressources financières -->
      <div class="resources-card financial">
        <h3 class="card-title">Ressources Financières</h3>
        <div class="financial-details">
          <div class="resource-item main-resource">
            <span class="resource-label">Allocation Adulte Handicapé (AAH) :</span>
            <span class="resource-value">{financialResources.aah.amount}</span>
            <span class="resource-frequency">({financialResources.aah.frequency})</span>
          </div>
          
          {financialResources.other.map((resource) => (
            <div class="resource-item">
              <span class="resource-label">{resource.source} :</span>
              <span class="resource-value">{resource.amount}</span>
            </div>
          ))}
        </div>
        
        <div class="budget-analysis">
          <h4>Analyse Budgétaire</h4>
          <p><em>[CONTENU À REMPLIR - ÉQUILIBRE BUDGÉTAIRE ET BESOINS FINANCIERS]</em></p>
        </div>
      </div>

      <!-- Autonomie au quotidien -->
      <div class="resources-card autonomy">
        <h3 class="card-title">Autonomie au Quotidien</h3>
        <div class="autonomy-domains">
          <div class="domain-item">
            <h4>Déplacements</h4>
            <p><em>[CONTENU À REMPLIR - MOYENS DE TRANSPORT ET AUTONOMIE]</em></p>
          </div>
          <div class="domain-item">
            <h4>Gestion administrative</h4>
            <p><em>[CONTENU À REMPLIR - CAPACITÉ À GÉRER LES DÉMARCHES ADMINISTRATIVES]</em></p>
          </div>
          <div class="domain-item">
            <h4>Vie quotidienne</h4>
            <p><em>[CONTENU À REMPLIR - GESTION DU QUOTIDIEN ET AUTONOMIE FONCTIONNELLE]</em></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Styles spécifiques à la page -->
  <style>
    /* ----------------------------------------------------------------------
       SITUATION DE LOGEMENT
       ---------------------------------------------------------------------- */
    .housing-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-xl);
      margin-bottom: var(--spacing-lg);
    }

    .housing-card {
      padding: var(--spacing-lg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius-md);
      background-color: var(--color-white);
    }

    .current-situation {
      border-top: 4px solid var(--color-primary);
    }

    .hlm-process {
      border-top: 4px solid var(--color-warning);
    }

    .housing-details,
    .hlm-details {
      margin-bottom: var(--spacing-lg);
    }

    .detail-item {
      display: flex;
      justify-content: space-between;
      padding: var(--spacing-sm) 0;
      border-bottom: 1px solid var(--color-gray-100);
    }

    .detail-item:last-child {
      border-bottom: none;
    }

    .detail-label {
      font-weight: 600;
      color: var(--color-gray-700);
    }

    .detail-value {
      color: var(--color-gray-800);
      text-align: right;
    }

    .housing-assessment,
    .hlm-timeline {
      margin-top: var(--spacing-lg);
      padding-top: var(--spacing-lg);
      border-top: 1px solid var(--color-gray-200);
    }

    .housing-assessment h4,
    .hlm-timeline h4 {
      margin-bottom: var(--spacing-md);
      color: var(--color-primary);
      border-bottom: none;
    }

    /* Timeline HLM */
    .process-steps {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .step {
      display: flex;
      align-items: center;
      gap: var(--spacing-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-sm);
      border-radius: var(--border-radius-md);
      background-color: var(--color-gray-50);
    }

    .step.completed {
      background-color: rgba(40, 167, 69, 0.1);
      border-left: 4px solid var(--color-success);
    }

    .step.current {
      background-color: rgba(255, 193, 7, 0.1);
      border-left: 4px solid var(--color-warning);
    }

    .step.pending {
      background-color: var(--color-gray-50);
      border-left: 4px solid var(--color-gray-400);
    }

    .step-number {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      background-color: var(--color-white);
      border-radius: 50%;
      font-weight: 600;
      color: var(--color-gray-700);
    }

    .step-label {
      flex: 1;
      font-weight: 600;
      color: var(--color-gray-800);
    }

    .step-date {
      font-size: 0.875rem;
      color: var(--color-gray-600);
    }

    /* ----------------------------------------------------------------------
       ENGAGEMENT BÉNÉVOLAT
       ---------------------------------------------------------------------- */
    .volunteering-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .volunteer-card {
      padding: var(--spacing-lg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius-md);
      background-color: var(--color-white);
      border-top: 4px solid var(--color-info);
    }

    .organization-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-md);
    }

    .organization-name {
      margin-bottom: 0;
      color: var(--color-primary);
      border-bottom: none;
    }

    .volunteer-details {
      margin-bottom: var(--spacing-lg);
    }

    .volunteer-impact {
      padding-top: var(--spacing-lg);
      border-top: 1px solid var(--color-gray-200);
    }

    .volunteer-impact h4 {
      margin-bottom: var(--spacing-md);
      color: var(--color-primary);
      border-bottom: none;
    }

    .volunteering-summary {
      margin-top: var(--spacing-xl);
      padding: var(--spacing-lg);
      background-color: var(--color-primary-light);
      border-radius: var(--border-radius-md);
      border-left: 4px solid var(--color-primary);
    }

    .volunteering-summary h3 {
      margin-bottom: var(--spacing-md);
      color: var(--color-primary);
      border-bottom: none;
    }

    /* ----------------------------------------------------------------------
       RESSOURCES ET AUTONOMIE
       ---------------------------------------------------------------------- */
    .resources-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-xl);
    }

    .resources-card {
      padding: var(--spacing-lg);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius-md);
      background-color: var(--color-white);
    }

    .financial {
      border-top: 4px solid var(--color-success);
    }

    .autonomy {
      border-top: 4px solid var(--color-info);
    }

    .financial-details {
      margin-bottom: var(--spacing-lg);
    }

    .resource-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--spacing-sm) 0;
      border-bottom: 1px solid var(--color-gray-100);
    }

    .resource-item:last-child {
      border-bottom: none;
    }

    .main-resource {
      font-weight: 600;
      color: var(--color-primary);
    }

    .resource-label {
      color: var(--color-gray-700);
    }

    .